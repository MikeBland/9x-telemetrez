# Introduction #

This is how to setup a Bluetooth connection between the 9x and an Android phone using a Telemetrez board.  After completing this you will have telemetry data available on both the 9x and your Android phone.


# Details #

First here is the parts you will need to complete this:
  * A Bluetooth module.  I like the one from Sparkfun.com (https://www.sparkfun.com/products/10253)
  * next you will need a 3.3V regulator.  I used an LE33CZ.  But any 3.3V regulator should work.  The Sparkfun module only works on 3.3V.
  * 3 resistors,  a 1k ohm, a 10k ohm, and a 20k ohm
  * some wire to make connections

These directions use the above parts, others should be similar.
### Bluetooth module setup ###
Start by setting up the Bluetooth module.  I was able to attach the 3.3V regulator directly to my module.  Orient the module so you are looking at the back of the module, or the side where you can make solder connections, and with the antenna to the top.  The right side row of connectors, the bottom 2 are for power.  The lowest one, farthest from the antenna, is ground.  And the one immediately above it is 3.3V input.  I solder the correct legs from my regulator there.  Next I attached the 20k ohm resistor from the ground pin across to the lowest pin on the opposite side.  This is the data input to the module.  Also to the data input pin attach the 10k resistor.  These 2 resistors lower the voltage from 5V to 3.3V that the module input can handle.  You should now have 3 connections to your Bluetooth module.  The data input connection, which is the unconnected end of the 10k resistor.  Ground and 5V in, which goes to the unconnected leg of the 3.3V regulator.
### Telemetrez board setup ###
Take the 1k resistor and connect it between pin 1 and pin18 of the attiny1634.  If you are looking at the Telemetrez so the expansion IO is at the top, then pin 1 of the '1634 is the top left pin.  And pin 18 is on the opposite side 3rd down from the top.
### Connecting it all together ###
Use some wire to make these connections so you can mount the Bluetooth module somewhere.  You need to connect the 5V regulator to a 5V source on the Telemetrez.  All the way to the right of the expansion IO is a hole marked +5V.  Connect the 5V wire to there.  One the opposite side of the expansion IO is a hole marked +0V.  This is the ground connection point, connect the ground wire there.  Finally connect the data input line for the module to hole F.  And that will do it for connections.  You should at this point double check your connections.  Make sure your regulator is connected the right way.  5V will kill the Bluetooth module.
### Can't connect just yet ###
The default settings in the Bluetooth module have it set for 115200 baud.  We need to change that before it will work with the Telemetrez.  This is easy to do.  I downloaded the 'SENA BTerm' app to my android phone.  This is just a serial terminal for Bluetooth on your phone.  By now you should be able to turn on the 9x and have the Bluetooth module power up.  So go ahead and turn on the 9x.  Next pull up the Bluetooth settings on your phone.  Turn on the Bluetooth and scan for devices.  In the list should be one named RN-42(something).  Go ahead and connect to that one.  It will after a few seconds ask for a pairing code.  The Sparkfun modules use '1234'.  Once that is done, turn off the 9x and install the SENA BTerm app.  Open the SENA BTerm once it is installed.  Press the menu button, and tap 'Bluetooth management'.  Next turn on the 9x, you will have 1 minute to complete the next couple of steps.  Now select 'connect to', press the 'select' button and start a scan.  Again select the RN-42 device, it will go back to the previous menu.  Press connect there, you should get a pop-up message about it connecting and then the screen will go black.  Just tap anywhere to bring up the keyboard.  You won't see the characters you type.  Now type 3 dollar signs '$$$'.  'CMD' should appear on your display, if it doesn't you might have taken too long or typed something wrong, just start over.  If CMD did appear on your display you are now in the command mode of the module.  Next type (without the quotes) 'SU,96' and press enter.  'AOK' should appear on the display.  This was the command to change the baud rate to 9600.  Finally type 3 dashes followed by enter '---'.  This will exit command mode.  You have now reset the baud rate of the Bluetooth module.  This won't need to be done again, unless of course you change it for something else.  Now you can cycle the 9x power, and pull up your favorite Frsky app on your phone to get telemetry data over there.  I have found 2 that I like so far.  Frsky dashboard, and FRS logger.  I haven't used either one much, but both were working when I wrote this.